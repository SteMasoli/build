_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{ERxI:function(e,a,t){"use strict";t.r(a),t.d(a,"__N_SSG",(function(){return G}));var c=t("KQm4"),n=t("o0o1"),l=t.n(n),r=t("HaE+"),s=t("ODXe"),i=t("nKUr"),d=t("q1tI"),o=t("ofer"),u=t("CqGl"),b=t("rh/9"),p=t("TLva"),j=t("ADg1"),h=t("wx14"),m=t("Ff2n"),v=(t("17x9"),t("iuhU")),O=t("EHdT"),g=t("H2TA"),f=t("NqtD"),x=d.forwardRef((function(e,a){e.checked;var t=e.classes,c=e.className,n=e.control,l=e.disabled,r=(e.inputRef,e.label),s=e.labelPlacement,i=void 0===s?"end":s,u=(e.name,e.onChange,e.value,Object(m.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),b=Object(O.a)(),p=l;"undefined"===typeof p&&"undefined"!==typeof n.props.disabled&&(p=n.props.disabled),"undefined"===typeof p&&b&&(p=b.disabled);var j={disabled:p};return["checked","name","onChange","value","inputRef"].forEach((function(a){"undefined"===typeof n.props[a]&&"undefined"!==typeof e[a]&&(j[a]=e[a])})),d.createElement("label",Object(h.a)({className:Object(v.a)(t.root,c,"end"!==i&&t["labelPlacement".concat(Object(f.a)(i))],p&&t.disabled),ref:a},u),d.cloneElement(n,j),d.createElement(o.a,{component:"span",className:Object(v.a)(t.label,p&&t.disabled)},r))})),y=Object(g.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(x),w=t("ye/S"),_=t("yCxk"),N=t("PsDL"),k=d.forwardRef((function(e,a){var t=e.autoFocus,c=e.checked,n=e.checkedIcon,l=e.classes,r=e.className,i=e.defaultChecked,o=e.disabled,u=e.icon,b=e.id,p=e.inputProps,j=e.inputRef,g=e.name,f=e.onBlur,x=e.onChange,y=e.onFocus,w=e.readOnly,k=e.required,S=e.tabIndex,C=e.type,P=e.value,E=Object(m.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),R=Object(_.a)({controlled:c,default:Boolean(i),name:"SwitchBase",state:"checked"}),$=Object(s.a)(R,2),T=$[0],I=$[1],D=Object(O.a)(),F=o;D&&"undefined"===typeof F&&(F=D.disabled);var q="checkbox"===C||"radio"===C;return d.createElement(N.a,Object(h.a)({component:"span",className:Object(v.a)(l.root,r,T&&l.checked,F&&l.disabled),disabled:F,tabIndex:null,role:void 0,onFocus:function(e){y&&y(e),D&&D.onFocus&&D.onFocus(e)},onBlur:function(e){f&&f(e),D&&D.onBlur&&D.onBlur(e)},ref:a},E),d.createElement("input",Object(h.a)({autoFocus:t,checked:c,defaultChecked:i,className:l.input,disabled:F,id:q&&b,name:g,onChange:function(e){var a=e.target.checked;I(a),x&&x(e,a)},readOnly:w,ref:j,required:k,tabIndex:S,type:C,value:P},p)),T?n:u)})),S=Object(g.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(k),C=d.forwardRef((function(e,a){var t=e.classes,c=e.className,n=e.color,l=void 0===n?"secondary":n,r=e.edge,s=void 0!==r&&r,i=e.size,o=void 0===i?"medium":i,u=Object(m.a)(e,["classes","className","color","edge","size"]),b=d.createElement("span",{className:t.thumb});return d.createElement("span",{className:Object(v.a)(t.root,c,{start:t.edgeStart,end:t.edgeEnd}[s],"small"===o&&t["size".concat(Object(f.a)(o))])},d.createElement(S,Object(h.a)({type:"checkbox",icon:b,checkedIcon:b,classes:{root:Object(v.a)(t.switchBase,t["color".concat(Object(f.a)(l))]),input:t.input,checked:t.checked,disabled:t.disabled},ref:a},u)),d.createElement("span",{className:t.track}))})),P=Object(g.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(w.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(w.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(C),E=t("csfp"),R=t("zjVO"),$=t("NAox"),T=t("jXXI"),I=t("zRuj"),D=t("d0Tl"),F=t("uui1"),q=t.n(F);var z=Object(d.forwardRef)((function(e,a){return function(e,a){var t,c,n,l,r,o,b,p,h,m,v=e.dataSet,O=e.selectedForDownload,g=e.toggleSelectedForDownload,f=(e.onClick,d.useState(!1)),x=Object(s.a)(f,2),w=x[0],_=(x[1],Object($.a)(),null!==(t=null===v||void 0===v?void 0:v.download_link)&&void 0!==t?t:null),N=!!_,k=null!==(c=null===v||void 0===v?void 0:v.page_link)&&void 0!==c?c:null,S=!!k,C=!!(null===v||void 0===v?void 0:v.source)&&(null===v||void 0===v||null===(n=v.source)||void 0===n?void 0:n.trim().length)>0;return Object(i.jsx)(I.a,{children:Object(i.jsx)("div",{className:q.a["dataset-card-content"],children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-2 col-sm-12",children:Object(i.jsx)("img",{src:null!==(l=Object(D.b)(null===v||void 0===v?void 0:v.icon))&&void 0!==l?l:Object(D.b)("/assets/images/placeholder.png"),className:q.a["dataset-card-image"]})}),Object(i.jsx)("div",{className:"col-md-7 col-sm-12",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-4",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 text-left",children:[Object(i.jsx)("span",{className:q.a["dataset-card-name-label"],children:"Name: "}),Object(i.jsx)("span",{className:q.a["dataset-card-name-value"],children:null!==(r=null===v||void 0===v?void 0:v.name)&&void 0!==r?r:""})]}),Object(i.jsxs)("div",{className:"col-12 text-left",children:[Object(i.jsx)("span",{className:q.a["dataset-card-species-label"],children:"Species: "}),Object(i.jsx)("span",{className:q.a["dataset-card-species-value"],children:null!==(o=null===v||void 0===v?void 0:v.species)&&void 0!==o?o:""})]}),Object(i.jsxs)("div",{className:"col-12 text-left",children:[Object(i.jsx)("span",{className:q.a["dataset-card-region-label"],children:"Region: "}),Object(i.jsx)("span",{className:q.a["dataset-card-region-value"],children:null!==(b=null===v||void 0===v?void 0:v.region)&&void 0!==b?b:""})]}),Object(i.jsxs)("div",{className:"col-12 text-left",children:[Object(i.jsx)("span",{className:q.a["dataset-card-cell-type-label"],children:"Cell Type: "}),Object(i.jsx)("span",{className:q.a["dataset-card-cell-type-value"],children:null!==(p=null===v||void 0===v?void 0:v.cell_type)&&void 0!==p?p:""})]})]})}),Object(i.jsx)("div",{className:"col-8",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 text-left",children:[Object(i.jsx)("span",{className:q.a["dataset-card-secondary-region-label"],children:"Secondary Region: "}),Object(i.jsx)("span",{className:q.a["dataset-card-secondary-region-value"],children:null!==(h=null===v||void 0===v?void 0:v.secondary_region)&&void 0!==h?h:""})]}),Object(i.jsxs)("div",{className:"col-12 text-left",children:[Object(i.jsx)("span",{className:q.a["dataset-card-physical-integrity-label"],children:"Physical Integrity: "}),Object(i.jsx)("span",{className:q.a["dataset-card-physical-integrity-value"],children:null!==(m=null===v||void 0===v?void 0:v.physical_integrity)&&void 0!==m?m:""})]})]})}),Object(i.jsx)("div",{className:"col-6 text-right",children:C?Object(i.jsxs)("span",{className:q.a["dataset-card-source-label"],children:["SOURCE: ",null===v||void 0===v?void 0:v.source]}):null})]})})]})}),Object(i.jsx)("div",{className:"".concat(q.a["dataset-card-actions-container"]," col-md-3 col-sm-12"),children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 text-left",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)(j.a,{children:Object(i.jsx)(y,{control:Object(i.jsx)(P,{defaultChecked:O,checked:O,onChange:function(e,a){return g(v.source_id,a)}}),label:"Select for download"})})}),N?Object(i.jsx)("div",{className:"col-12 text-center",children:Object(i.jsx)("span",{className:q.a["dataset-card-action"],children:Object(i.jsx)(E.a,{title:"Download",children:Object(i.jsx)(T.a,{label:"Download",icon:Object(i.jsx)(u.a,{}),expanded:w,onClick:function(){return window.open(_)}})})})}):null,S?Object(i.jsx)("div",{className:"col-12 text-center",children:Object(i.jsx)("span",{className:q.a["dataset-card-action"],children:Object(i.jsx)(E.a,{title:"View on Site",children:Object(i.jsx)(T.a,{label:"View on Site",icon:Object(i.jsx)(R.a,{}),expanded:w,onClick:function(){return window.open(k)}})})})}):null]})})})})]})})},"dataset-".concat(null===v||void 0===v?void 0:v.id))}(e)})),L=t("YK1M"),B=t("kzYg"),A=t("95fv"),K=t("N39q"),H=t("RQJL"),M=t.n(H),X=t("Z7bq"),G=!0;a.default=function(e){var a=e.params,t=d.useState(!0),n=Object(s.a)(t,2),j=n[0],h=n[1],m=d.useState({}),v=Object(s.a)(m,2),O=v[0],g=(v[1],d.useState([])),f=Object(s.a)(g,2),x=f[0],y=f[1],w=d.useState(!1),_=Object(s.a)(w,2),N=(_[0],_[1]),k=d.useState([]),S=Object(s.a)(k,2),C=S[0],P=S[1],E=d.useState([]),R=Object(s.a)(E,2),$=R[0],T=R[1],I=d.useState([]),D=Object(s.a)(I,2),F=D[0],q=D[1],H=d.useState(null),G=Object(s.a)(H,2),Q=(G[0],G[1]),U=d.useState(""),V=Object(s.a)(U,2),J=V[0],W=V[1],Y=d.useState(null),Z=Object(s.a)(Y,2),ee=Z[0],ae=Z[1],te=d.useState(null),ce=Object(s.a)(te,2),ne=ce[0],le=ce[1],re=d.useState(null),se=Object(s.a)(re,2),ie=se[0],de=se[1],oe=d.useState([]),ue=Object(s.a)(oe,2),be=ue[0],pe=ue[1],je=d.useState(0),he=Object(s.a)(je,2),me=he[0],ve=he[1],Oe=d.useState(1),ge=Object(s.a)(Oe,2),fe=ge[0],xe=ge[1],ye=d.useState(0),we=Object(s.a)(ye,2),_e=we[0],Ne=we[1],ke=d.useState(K.a.DEFAULT_HITS_PER_PAGE),Se=Object(s.a)(ke,2),Ce=Se[0],Pe=Se[1];Object(d.useEffect)((function(){Ee()}),[]);var Ee=function(){var e=Object(r.a)(l.a.mark((function e(){var t,c,n,r,s,i,d,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(B.c)("dataset");case 3:return c=e.sent,n=c.secondary_region,r=c.cell_type,s=c.species,e.next=9,Object(B.e)({data_type:null!==(t=null===a||void 0===a?void 0:a.type)&&void 0!==t?t:null,query:J,region:ee,cell_type:ne,species:ie,page:me});case 9:i=e.sent,d=i.total_page,o=i.total,u=i.items,P(n),T(r),q(s),xe(d),Ne(o),y(u),h(!1),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(0);case 24:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(r.a)(l.a.mark((function e(){var a,t,c,n,r,s,i,d,o,u,b,p=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>0&&void 0!==p[0]?p[0]:{},t=a.query,c=a.region,n=a.cellType,r=a.species,s=a.hitsPerPage,console.log("@@@@requestSearch"),i=0,ve(0),h(!0),e.next=7,Object(B.e)({query:null!==t&&void 0!==t?t:J,region:null!==c&&void 0!==c?c:ee,cell_type:null!==n&&void 0!==n?n:ne,species:null!==r&&void 0!==r?r:ie,page:i,hitsPerPage:s});case 7:d=e.sent,o=d.total_page,u=d.total,b=d.items,console.log("@@@@@@@totalPages",o),console.log("@@@@@@@totalItems",u),y(b),xe(o),Ne(u),h(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(r.a)(l.a.mark((function e(){var a,t,n,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve(a=me+1),h(!0),e.next=5,Object(B.e)({query:J,region:ee,cell_type:ne,species:ie,hitsPerPage:Ce,page:a});case 5:t=e.sent,n=t.total_page,r=t.total,s=t.items,i=[].concat(Object(c.a)(x),Object(c.a)(s)),y(i),Ne(r),xe(n),h(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(r.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe(a),e.next=3,Re({hitsPerPage:a});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(null),le(null),de(null),e.next=5,Re({query:"",region:"",cellType:"",species:""});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(r.a)(l.a.mark((function e(a,t){var n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("@@@@@@@toggleSelectForDownload",a,t),t?((n=Object(c.a)(be)).push(a),pe(n)):(r=Object(c.a)(be),(s=r.indexOf(a))>-1&&(r.splice(s,1),pe(r)));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),qe=me<fe-1,ze=!!x&&x.length>0;return Object(i.jsx)(p.a,{children:Object(i.jsxs)("div",{className:"container ".concat(M.a["page-container"]),children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)(o.a,{variant:"h4",children:O.title})})}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12",children:O.content})}),Object(i.jsxs)("section",{children:[Object(i.jsx)("div",{className:"row",style:{marginTop:20},children:Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)(A.a,{query:J,regions:C,cellTypes:$,species:F,selectedRegion:ee,selectedCellType:ne,selectedSpecies:ie,selectedHitsPerPage:Ce,onQueryChange:function(e){return W(e)},onRequestSearch:function(){return Re()},onChangeHitsPerPage:function(e){return Te(e)},onChangeRegion:function(e){return ae(e)},onChangeCellType:function(e){return le(e)},onChangeSpecies:function(e){return de(e)},applyFilters:function(){return Ie()},resetFilters:function(){return De()}})})}),Object(i.jsxs)("div",{className:"row",style:{marginTop:20},children:[Object(i.jsx)("div",{className:"col-md-6",children:Object(i.jsx)(X.a,{label:"Total items",count:_e})}),Object(i.jsxs)("div",{className:"col-md-6 text-right",children:[Object(i.jsxs)(L.a,{onClick:function(){window.open(Object(B.a)())},children:[Object(i.jsx)(u.a,{})," ",Object(i.jsx)("span",{style:{marginLeft:5},children:"Download All"})]}),be&&be.length>0?Object(i.jsxs)(L.a,{onClick:function(){window.open(Object(B.b)(be))},style:{marginLeft:10},children:[Object(i.jsx)(u.a,{})," ",Object(i.jsx)("span",{style:{marginLeft:5},children:"Download Selected"})]}):null]})]}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12 text-center",children:ze?Object(i.jsx)("div",{children:(null!==x&&void 0!==x?x:[]).map((function(e){return Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)(z,{dataSet:e,selectedForDownload:be.includes(e.source_id),toggleSelectedForDownload:Fe,onClick:function(){return a=e,N(!0),void Q(a);var a}})})},"row-dataset-".concat(null===e||void 0===e?void 0:e.id))}))}):Object(i.jsx)("p",{children:j?"":"There are not data for search criteria"})})}),qe?Object(i.jsx)("div",{className:"row",style:{marginTop:20},children:Object(i.jsx)("div",{className:"col-12 text-center",children:Object(i.jsx)(L.a,{variant:"primary",onClick:function(){return $e()},children:"Load More"})})}):null]}),j?Object(i.jsx)(b.a,{}):null]})})}},Mezk:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data/[type]",function(){return t("ERxI")}])},uui1:function(e,a,t){e.exports={"dataset-card-content":"dataSetCard_dataset-card-content__pMOnc","dataset-card-image":"dataSetCard_dataset-card-image__36wM-","dataset-card-name-label":"dataSetCard_dataset-card-name-label__1tEg3","dataset-card-species-label":"dataSetCard_dataset-card-species-label__KKDKo","dataset-card-region-label":"dataSetCard_dataset-card-region-label__xySRG","dataset-card-cell-type-label":"dataSetCard_dataset-card-cell-type-label__QCKEt","dataset-card-secondary-region-label":"dataSetCard_dataset-card-secondary-region-label__3ArWl","dataset-card-physical-integrity-label":"dataSetCard_dataset-card-physical-integrity-label__324vW","dataset-card-name-value":"dataSetCard_dataset-card-name-value__1SSyn","dataset-card-species-value":"dataSetCard_dataset-card-species-value__Gae6G","dataset-card-region-value":"dataSetCard_dataset-card-region-value__3QVsq","dataset-card-cell-type-value":"dataSetCard_dataset-card-cell-type-value__2QB9I","dataset-card-secondary-region-value":"dataSetCard_dataset-card-secondary-region-value__25Uri","dataset-card-physical-integrity-value":"dataSetCard_dataset-card-physical-integrity-value__kPcbw","dataset-card-description":"dataSetCard_dataset-card-description__qjvOK","dataset-card-source-label":"dataSetCard_dataset-card-source-label__1awfH","dataset-card-actions-container":"dataSetCard_dataset-card-actions-container__1oKD_","dataset-card-action":"dataSetCard_dataset-card-action__1Tw2F"}}},[["Mezk",0,2,4,1,3,5,6,7]]]);